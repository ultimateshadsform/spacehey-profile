@use '../utils/colors.scss' as *;
@use '../utils/mixins/mixins.scss' as *;

@mixin comments {
  #comments {
    opacity: 0.3;
    transition: all 200ms ease;
    &:hover {
      opacity: 1;
    }

    .heading {
      @include rename('h4', 'Complaints');
      h4:before {
        font-size: 1.5rem;
      }
    }

    .report a img {
      content: url('https://a.l3n.co/i/my9ZQZ.png');
    }

    .comments-table {
      border: none;

      tr:hover {
        td:last-child {
          opacity: 1 !important;
        }
      }

      tr:first-child {
        td:nth-child(2) > p:nth-child(2) {
          color: yellow;
          text-shadow: 1px 1px 2px var(--secondary-color), 0 0 1em orange,
            0 0 0.2em var(--extra-color);
        }

        td:nth-child(2) > p:first-child b .ago {
          color: var(--primary-color);
          text-shadow: 0 0 5px var(--secondary-color),
            0 0 10px var(--secondary-color), -20px 0 20px var(--extra-color),
            10px 0 20px var(--primary-color);
        }

        td:first-child img:not(.icon) {
          opacity: 0.3;
          animation: first-comment-profile-photo-anim 0.4s ease-in-out infinite
            alternate both;
          @keyframes first-comment-profile-photo-anim {
            0% {
              transform: scale(0.8) skewY(0deg) rotateZ(10deg) rotateY(-10deg)
                perspective(1000px);
            }

            100% {
              transform: scale(0.9) skewY(0deg) rotateZ(-10deg) rotateY(-10deg)
                perspective(1000px);
            }
          }
          perspective: 1000px;
          box-shadow: var(--secondary-color) 0 0 20px 5px;
          transition: all 200ms ease;

          &:hover {
            filter: invert(420%) sepia(69420%) saturate(1000%)
              hue-rotate(320deg) brightness(100%) contrast(100%);
            box-shadow: 0 0 30px 10px rgb(0 255 0);
          }
        }

        td:first-child p {
          color: yellow;
          animation: first-name-anim 400ms ease-in-out infinite alternate both;
          @keyframes first-name-anim {
            0% {
              transform: rotateZ(-10deg) scaleX(1);
            }

            100% {
              transform: rotateZ(10deg) scaleX(1.5);
            }
          }
        }
      }

      tr {
        td:last-child {
          opacity: 0.3;
          transition: all 200ms ease;
        }
      }

      td {
        border: none !important;
        background: transparent;

        &:nth-child(2) > p:nth-child(2):first-letter {
          text-transform: capitalize;
        }

        &:first-child {
          position: relative;

          &:hover {
            img:not(.icon),
            p {
              opacity: 1 !important;
            }
          }

          p {
            font-family: 'Beyonders', sans-serif;
            font-size: clamp(15px, 2vw, 1rem);
            z-index: 1;
            position: relative;
            opacity: 0.3;
            color: var(--accent-color);
            text-shadow: var(--text-shadow);
            transition: all 200ms ease;
            animation: name-anim 200ms ease-in-out infinite alternate both;
            @keyframes name-anim {
              0% {
                transform: rotateZ(-15deg);
              }
              100% {
                transform: rotateZ(15deg);
              }
            }
          }

          img:not(.icon) {
            width: 100%;
            height: 100%;
            object-fit: cover;
            border-radius: 10px;
            opacity: 0.3;
            animation: comment-profile-photo-anim 200ms ease-in-out infinite
              alternate both;
            @keyframes comment-profile-photo-anim {
              0% {
                transform: scale(0.8);
              }
              100% {
                transform: scale(0.9);
              }
            }
            border: 2px solid var(--extra-color);
            box-shadow: 5px 5px 0 0 var(--secondary-color);
            transition: all 200ms ease;

            &:hover {
              box-shadow: var(--title-shadow);
            }
          }
        }
      }

      .ago {
        color: var(--accent-color);
      }

      .comment-replies {
        border: 1px solid var(--extra-color);
        border-radius: 1rem;

        .comment-reply {
          color: var(--accent-color);

          p small a b {
            font-family: 'Beyonders', sans-serif;
            text-shadow: var(--text-shadow);
            font-size: 0.5em;
          }

          &:not(:first-child) {
            border-top: 1px solid var(--accent-color);
          }

          p:not(:last-child):first-letter {
            text-transform: capitalize;
          }
        }
      }
    }
  }
}
