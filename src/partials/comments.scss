@use '../utils/colors.scss' as *;
@use '../utils/functions.scss' as *;

@mixin comments {
  #comments {
    .heading {
      @include rename('h4', 'Complaints');
      h4:before {
        font-size: 1.5rem;
      }
    }

    .report a img {
      content: url('https://a.l3n.co/i/my9ZQZ.png');
    }

    .comments-table {
      border: none;

      td:first-child {
        position: relative;

        p {
          animation: name-anim 200ms ease-in-out infinite alternate both;
          @keyframes name-anim {
            0% {
              transform: rotateZ(-15deg);
            }
            100% {
              transform: rotateZ(15deg);
            }
          }
          font-family: 'Beyonders', sans-serif;
          font-size: clamp(15px, 2vw, 1rem);
          z-index: 1;
          position: relative;
          color: var(--accent-color);
        }

        img:not(.icon) {
          width: 100%;
          height: 100%;
          object-fit: cover;
          border-radius: 10px;
          animation: comment-profile-photo-anim 200ms ease-in-out infinite
            alternate both;
          @keyframes comment-profile-photo-anim {
            0% {
              transform: scale(0.8);
            }
            100% {
              transform: scale(0.9);
            }
          }
          border: 2px solid var(--extra-color);
          box-shadow: 5px 5px 0 0 var(--secondary-color);
          transition: all 200ms ease;

          &:hover {
            box-shadow: 0px 0px 1px #bf3f3f, 0px 0px 1px #bf3f3f,
              1px 4px 1px #c04751, -1px 4px 1px #c04751, 2px 8px 1px #c14f62,
              -2px 8px 1px #c14f62, 3px 12px 1px #c25774, -3px 12px 1px #c25774,
              4px 16px 1px #c35f85, -4px 16px 1px #c35f85, 5px 20px 1px #c46797,
              -5px 20px 1px #c46797, 6px 24px 1px #c46fa8, -6px 24px 1px #c46fa8,
              7px 28px 1px #c577ba, -7px 28px 1px #c577ba, 8px 32px 1px #c67fcc,
              -8px 32px 1px #c67fcc, 9px 36px 1px #c787dd, -9px 36px 1px #c787dd,
              0px 36px 1px #c787dd;
          }
        }
      }

      tr:first-child {
        td:nth-child(2) > p:nth-child(2) {
          color: yellow;
          text-shadow: 1px 1px 2px var(--secondary-color), 0 0 1em orange,
            0 0 0.2em var(--extra-color);
        }

        td:nth-child(2) > p:first-child b .ago {
          color: var(--primary-color);
          text-shadow: 0 0 5px var(--secondary-color),
            0 0 10px var(--secondary-color), -20px 0 20px var(--extra-color),
            10px 0 20px var(--primary-color);
        }

        td:first-child img:not(.icon) {
          animation: first-comment-profile-photo-anim 0.4s ease-in-out infinite
            alternate both;
          @keyframes first-comment-profile-photo-anim {
            0% {
              transform: scale(0.8) skewY(0deg) rotateZ(10deg) rotateY(-10deg)
                perspective(1000px);
            }

            100% {
              transform: scale(0.9) skewY(0deg) rotateZ(-10deg) rotateY(-10deg)
                perspective(1000px);
            }
          }
          perspective: 1000px;
          box-shadow: var(--secondary-color) 0 0 20px 5px;
          transition: all 200ms ease;
        }

        td:first-child img:not(.icon):hover {
          filter: invert(420%) sepia(69420%) saturate(1000%) hue-rotate(320deg)
            brightness(100%) contrast(100%);
          box-shadow: 0 0 30px 10px rgb(0 255 0);
        }

        td:first-child p {
          color: yellow;
          animation: first-name-anim 400ms ease-in-out infinite alternate both;
          @keyframes first-name-anim {
            0% {
              transform: rotateZ(-10deg) scaleX(1);
            }

            100% {
              transform: rotateZ(10deg) scaleX(1.5);
            }
          }
        }
      }

      td {
        border: none !important;
        background: transparent;

        &:nth-child(2) > p:nth-child(2):first-letter {
          text-transform: capitalize;
        }
      }

      .ago {
        color: var(--accent-color);
      }

      .comment-replies {
        border: 1px solid var(--extra-color);
        border-radius: 1rem;

        .comment-reply {
          color: var(--accent-color);

          p small a b {
            font-family: 'Beyonders', sans-serif;
            text-shadow: var(--text-shadow);
            font-size: 0.5em;
          }

          &:not(:first-child) {
            border-top: 1px solid var(--accent-color);
          }

          p:not(:last-child):first-letter {
            text-transform: capitalize;
          }
        }
      }
    }
  }
}
